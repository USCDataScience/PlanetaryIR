{
  "path": "process/init/app/run.sh",
  "mode": "+x",
  "content": "#!/usr/bin/env bash\n# cmd_extractor  process/init/app\n# {\"style\":\"cmd_extractor\",\"cmd\":\"\\n        deepdive db init\\n\\n        cd \\\"$DEEPDIVE_APP\\\"\\n        # run legacy schema.sql\\n        if [[ -r schema.sql ]]; then\\n            deepdive db prompt <schema.sql\\n        fi\\n        # run legacy init script\\n        if [[ -x input/init.sh ]]; then\\n            input/init.sh\\n        fi\\n        \",\"name\":\"process/init/app\"}\nset -xeuo pipefail\ncd \"$(dirname \"$0\")\"\n\n\n\nexport DEEPDIVE_CURRENT_PROCESS_NAME='process/init/app'\n\n        deepdive db init\n\n        cd \"$DEEPDIVE_APP\"\n        # run legacy schema.sql\n        if [[ -r schema.sql ]]; then\n            deepdive db prompt <schema.sql\n        fi\n        # run legacy init script\n        if [[ -x input/init.sh ]]; then\n            input/init.sh\n        fi\n        \n\n\n"
}
{
  "path": "process/init/relation/articles/run.sh",
  "mode": "+x",
  "content": "#!/usr/bin/env bash\n# cmd_extractor  process/init/relation/articles\n# {\"style\":\"cmd_extractor\",\"cmd\":\"deepdive create table 'articles' && deepdive load 'articles'\",\"dependencies_\":[\"process/init/app\"],\"output_relation\":\"articles\",\"output_\":\"data/articles\",\"name\":\"process/init/relation/articles\"}\nset -xeuo pipefail\ncd \"$(dirname \"$0\")\"\n\n\n\nexport DEEPDIVE_CURRENT_PROCESS_NAME='process/init/relation/articles'\ndeepdive create table 'articles' && deepdive load 'articles'\n\n\n"
}
{
  "path": "process/init/relation/targets_chemcam_mer/run.sh",
  "mode": "+x",
  "content": "#!/usr/bin/env bash\n# cmd_extractor  process/init/relation/targets_chemcam_mer\n# {\"style\":\"cmd_extractor\",\"cmd\":\"deepdive create table 'targets_chemcam_mer' && deepdive load 'targets_chemcam_mer'\",\"dependencies_\":[\"process/init/app\"],\"output_relation\":\"targets_chemcam_mer\",\"output_\":\"data/targets_chemcam_mer\",\"name\":\"process/init/relation/targets_chemcam_mer\"}\nset -xeuo pipefail\ncd \"$(dirname \"$0\")\"\n\n\n\nexport DEEPDIVE_CURRENT_PROCESS_NAME='process/init/relation/targets_chemcam_mer'\ndeepdive create table 'targets_chemcam_mer' && deepdive load 'targets_chemcam_mer'\n\n\n"
}
{
  "path": "process/ext_is_target/run.sh",
  "mode": "+x",
  "content": "#!/usr/bin/env bash\n# cmd_extractor  process/ext_is_target\n# {\"cmd\":\"\\n\\n\\tdeepdive create view is_target as 'SELECT DISTINCT R0.column_0, R0.column_1, 0 AS id, \\nCASE WHEN R0.column_2 > 0 THEN true\\n     WHEN R0.column_2 < 0 THEN false\\n     ELSE NULL\\nEND AS label\\n          FROM target_label_resolved R0\\n        \\n          \\nUNION ALL\\nSELECT DISTINCT R0.mention_id, R0.mention_text, 0 AS id, (NULL :: BOOLEAN) AS label\\n          FROM target_mention R0\\n        \\n          '\\n\\t\\n        \",\"dependencies\":[\"ext_target_label_resolved\",\"ext_target_mention_by_map_target_mention\"],\"input_relations\":[\"target_label_resolved\",\"target_mention\"],\"output_relation\":\"is_target\",\"style\":\"cmd_extractor\",\"dependencies_\":[\"process/ext_target_label_resolved\",\"process/ext_target_mention_by_map_target_mention\"],\"input_\":[\"data/target_label_resolved\",\"data/target_mention\"],\"output_\":\"data/is_target\",\"name\":\"process/ext_is_target\"}\nset -xeuo pipefail\ncd \"$(dirname \"$0\")\"\n\n\n\nexport DEEPDIVE_CURRENT_PROCESS_NAME='process/ext_is_target'\n\n\n\tdeepdive create view is_target as 'SELECT DISTINCT R0.column_0, R0.column_1, 0 AS id, \nCASE WHEN R0.column_2 > 0 THEN true\n     WHEN R0.column_2 < 0 THEN false\n     ELSE NULL\nEND AS label\n          FROM target_label_resolved R0\n        \n          \nUNION ALL\nSELECT DISTINCT R0.mention_id, R0.mention_text, 0 AS id, (NULL :: BOOLEAN) AS label\n          FROM target_mention R0\n        \n          '\n\t\n        \n\n\n"
}
{
  "path": "process/ext_target_label/run.sh",
  "mode": "+x",
  "content": "#!/usr/bin/env bash\n# cmd_extractor  process/ext_target_label\n# {\"cmd\":\"\\n\\n\\t# TODO use temporary table\\n\\tdeepdive create table \\\"target_label\\\"\\n\\tdeepdive sql 'INSERT INTO target_label SELECT R0.mention_id AS \\\"target_mention.R0.mention_id\\\", R0.mention_text AS \\\"target_mention.R0.mention_text\\\", 1 AS column_2, '\\\\''from_Chemcam_MER'\\\\'' AS column_3\\nFROM target_mention R0, targets_chemcam_mer R1\\n        WHERE lower(R1.target_name) = lower(R0.mention_text)\\nUNION ALL\\nSELECT R0.target_id AS \\\"target_label__0.R0.target_id\\\", R0.target_name AS \\\"target_label__0.R0.target_name\\\", R0.label AS \\\"target_label__0.R0.label\\\", R0.rule_id AS \\\"target_label__0.R0.rule_id\\\"\\nFROM target_label__0 R0\\n        '\\n\\t# TODO rename temporary table to replace output_relation\\n\\t\\n        \",\"dependencies\":[\"ext_target_mention_by_map_target_mention\",\"ext_target_label__0_by_supervise\"],\"input_relations\":[\"target_mention\",\"targets_chemcam_mer\",\"target_label__0\"],\"output_relation\":\"target_label\",\"style\":\"cmd_extractor\",\"dependencies_\":[\"process/ext_target_mention_by_map_target_mention\",\"process/ext_target_label__0_by_supervise\"],\"input_\":[\"data/target_mention\",\"data/targets_chemcam_mer\",\"data/target_label__0\"],\"output_\":\"data/target_label\",\"name\":\"process/ext_target_label\"}\nset -xeuo pipefail\ncd \"$(dirname \"$0\")\"\n\n\n\nexport DEEPDIVE_CURRENT_PROCESS_NAME='process/ext_target_label'\n\n\n\t# TODO use temporary table\n\tdeepdive create table \"target_label\"\n\tdeepdive sql 'INSERT INTO target_label SELECT R0.mention_id AS \"target_mention.R0.mention_id\", R0.mention_text AS \"target_mention.R0.mention_text\", 1 AS column_2, '\\''from_Chemcam_MER'\\'' AS column_3\nFROM target_mention R0, targets_chemcam_mer R1\n        WHERE lower(R1.target_name) = lower(R0.mention_text)\nUNION ALL\nSELECT R0.target_id AS \"target_label__0.R0.target_id\", R0.target_name AS \"target_label__0.R0.target_name\", R0.label AS \"target_label__0.R0.label\", R0.rule_id AS \"target_label__0.R0.rule_id\"\nFROM target_label__0 R0\n        '\n\t# TODO rename temporary table to replace output_relation\n\t\n        \n\n\n"
}
{
  "path": "process/ext_target_label_resolved/run.sh",
  "mode": "+x",
  "content": "#!/usr/bin/env bash\n# cmd_extractor  process/ext_target_label_resolved\n# {\"cmd\":\"\\n\\n\\tdeepdive create view target_label_resolved as 'SELECT R0.target_id AS column_0, R0.target_name AS column_1, SUM(R0.label) AS column_2\\nFROM target_label R0\\n        \\n        GROUP BY R0.target_id, R0.target_name'\\n\\t\\n        \",\"dependencies\":[\"ext_target_label\"],\"input_relations\":[\"target_label\"],\"output_relation\":\"target_label_resolved\",\"style\":\"cmd_extractor\",\"dependencies_\":[\"process/ext_target_label\"],\"input_\":[\"data/target_label\"],\"output_\":\"data/target_label_resolved\",\"name\":\"process/ext_target_label_resolved\"}\nset -xeuo pipefail\ncd \"$(dirname \"$0\")\"\n\n\n\nexport DEEPDIVE_CURRENT_PROCESS_NAME='process/ext_target_label_resolved'\n\n\n\tdeepdive create view target_label_resolved as 'SELECT R0.target_id AS column_0, R0.target_name AS column_1, SUM(R0.label) AS column_2\nFROM target_label R0\n        \n        GROUP BY R0.target_id, R0.target_name'\n\t\n        \n\n\n"
}
